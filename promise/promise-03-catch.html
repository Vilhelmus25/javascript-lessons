<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        'use strict';

        // a Promise-t arra tudjuk használni, hogy elkerüljük a callback hair-t (fv-ek callbackjeinek a callbackjeinek, a callbackjeinek, a stb. a sokáig meghívása).
        // a Promise egy speciális objektum, ami egy aszinkron műveletnek az állapotát hordozza. Az aszinkron műveletknél mindig szükség van egy callback-re, amit meghívunk.

        const samplePromise = new Promise((resolve, reject) => {        //Promise() van egy executor fv-e, ami az esetünkben egy arrow funktion
            console.log('Promise is pending');
            setTimeout(() => {
                // a promise-nak 4 fajta állapota lehet:
                //  -   Pending: amíg folyamatban van
                //  -   Fulfilled: ha sikeresen lefutott.
                //  -   Reject: sikertelen
                //  -   Settled: Ha végzett, függetlenül attól, hogy sikeres vagy nem
                if (false) {

                    resolve('Promise is fulfilled')
                } else {

                    reject(new Error('Promise error'))         // vagy ez vagy az fut le a kettő együtt soha
                    // Error objektumként szebb
                }
            }, 3000)

        })
        samplePromise
            .then((data) => console.log(data))           // itt a data nem más, mint amit a resolve-nál adtam paramétert
            .catch((error) => console.error(error))           // itt a data nem más, mint amit a resolve-nál adtam paramétert
            // így használjuk és ne rejecttel inkább.
    </script>

</body>

</html>